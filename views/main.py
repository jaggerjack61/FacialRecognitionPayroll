# -*- coding: utf-8 -*-

# Form implementation generated from reading ui file 'main.ui'
#
# Created by: PyQt5 UI code generator 5.15.7
#
# WARNING: Any manual changes made to this file will be lost when pyuic5 is
# run again.  Do not edit this file unless you know what you are doing.


from PyQt5 import QtCore, QtGui, QtWidgets
import logic.Employee as employee
from logic import picget as pic


class Ui_MainWindow(object):
    def __init__(self):
        self.emp = employee.Employee()
        self.employees = self.emp.get()

    def setupUi(self, MainWindow):

        MainWindow.setObjectName("MainWindow")
        MainWindow.resize(800, 621)
        self.centralwidget = QtWidgets.QWidget(MainWindow)
        self.centralwidget.setObjectName("centralwidget")
        self.tabWidget = QtWidgets.QTabWidget(self.centralwidget)
        self.tabWidget.setGeometry(QtCore.QRect(0, 0, 791, 551))
        self.tabWidget.setObjectName("tabWidget")
        self.tab = QtWidgets.QWidget()
        self.tab.setObjectName("tab")
        self.employeeView = QtWidgets.QListWidget(self.tab)
        self.employeeView.setGeometry(QtCore.QRect(0, 0, 781, 481))
        self.employeeView.setObjectName("employeeView")
        self.shifts = QtWidgets.QComboBox(self.tab)
        self.shifts.setGeometry(QtCore.QRect(80, 490, 201, 25))
        self.shifts.setObjectName("shifts")
        self.label_13 = QtWidgets.QLabel(self.tab)
        self.label_13.setGeometry(QtCore.QRect(30, 490, 81, 17))
        font = QtGui.QFont()
        font.setPointSize(13)
        self.label_13.setFont(font)
        self.label_13.setObjectName("label_13")
        self.assignShiftButton = QtWidgets.QPushButton(self.tab)
        self.assignShiftButton.setGeometry(QtCore.QRect(420, 490, 89, 25))
        self.assignShiftButton.setObjectName("assignShiftButton")
        self.assignShiftButton.clicked.connect(self.assignShift)
        self.tabWidget.addTab(self.tab, "")
        self.tab_2 = QtWidgets.QWidget()
        self.tab_2.setObjectName("tab_2")
        self.shiftView = QtWidgets.QListView(self.tab_2)
        self.shiftView.setGeometry(QtCore.QRect(0, 0, 781, 481))
        self.shiftView.setObjectName("shiftView")
        self.disableShiftButton = QtWidgets.QPushButton(self.tab_2)
        self.disableShiftButton.setGeometry(QtCore.QRect(20, 490, 89, 25))
        self.disableShiftButton.setObjectName("disableShiftButton")
        self.enableShiftButton_2 = QtWidgets.QPushButton(self.tab_2)
        self.enableShiftButton_2.setGeometry(QtCore.QRect(120, 490, 89, 25))
        self.enableShiftButton_2.setObjectName("enableShiftButton_2")
        self.tabWidget.addTab(self.tab_2, "")
        self.tab_3 = QtWidgets.QWidget()
        self.tab_3.setObjectName("tab_3")
        self.firstname = QtWidgets.QLineEdit(self.tab_3)
        self.firstname.setGeometry(QtCore.QRect(180, 30, 561, 25))
        self.firstname.setObjectName("firstname")
        self.lastname = QtWidgets.QLineEdit(self.tab_3)
        self.lastname.setGeometry(QtCore.QRect(180, 90, 561, 25))
        self.lastname.setObjectName("lastname")
        self.dob = QtWidgets.QDateEdit(self.tab_3)
        self.dob.setGeometry(QtCore.QRect(180, 140, 191, 26))
        self.dob.setObjectName("dob")
        self.employeeNumber = QtWidgets.QLineEdit(self.tab_3)
        self.employeeNumber.setGeometry(QtCore.QRect(180, 200, 561, 25))
        self.employeeNumber.setObjectName("employeeNumber")
        self.idNumber = QtWidgets.QLineEdit(self.tab_3)
        self.idNumber.setGeometry(QtCore.QRect(180, 280, 561, 25))
        self.idNumber.setObjectName("idNumber")
        self.salaryBasic = QtWidgets.QLineEdit(self.tab_3)
        self.salaryBasic.setGeometry(QtCore.QRect(180, 400, 171, 25))
        self.salaryBasic.setObjectName("salaryBasic")
        self.salaryOvertime = QtWidgets.QLineEdit(self.tab_3)
        self.salaryOvertime.setGeometry(QtCore.QRect(570, 400, 171, 25))
        self.salaryOvertime.setObjectName("salaryOvertime")
        self.currency = QtWidgets.QComboBox(self.tab_3)
        self.currency.setGeometry(QtCore.QRect(180, 340, 241, 25))
        self.currency.setObjectName("currency")
        self.currency.addItem("")
        self.currency.addItem("")
        self.currency.addItem("")
        self.currency.addItem("")
        self.label = QtWidgets.QLabel(self.tab_3)
        self.label.setGeometry(QtCore.QRect(80, 30, 81, 17))
        self.label.setObjectName("label")
        self.label_2 = QtWidgets.QLabel(self.tab_3)
        self.label_2.setGeometry(QtCore.QRect(80, 100, 81, 17))
        self.label_2.setObjectName("label_2")
        self.label_3 = QtWidgets.QLabel(self.tab_3)
        self.label_3.setGeometry(QtCore.QRect(70, 150, 101, 17))
        self.label_3.setObjectName("label_3")
        self.label_4 = QtWidgets.QLabel(self.tab_3)
        self.label_4.setGeometry(QtCore.QRect(30, 200, 131, 17))
        self.label_4.setObjectName("label_4")
        self.label_5 = QtWidgets.QLabel(self.tab_3)
        self.label_5.setGeometry(QtCore.QRect(80, 280, 81, 17))
        self.label_5.setObjectName("label_5")
        self.label_6 = QtWidgets.QLabel(self.tab_3)
        self.label_6.setGeometry(QtCore.QRect(80, 350, 81, 17))
        self.label_6.setObjectName("label_6")
        self.label_7 = QtWidgets.QLabel(self.tab_3)
        self.label_7.setGeometry(QtCore.QRect(80, 410, 91, 17))
        self.label_7.setObjectName("label_7")
        self.label_8 = QtWidgets.QLabel(self.tab_3)
        self.label_8.setGeometry(QtCore.QRect(450, 410, 121, 17))
        self.label_8.setObjectName("label_8")
        self.createEmployee = QtWidgets.QPushButton(self.tab_3)
        self.createEmployee.setGeometry(QtCore.QRect(348, 480, 151, 25))
        self.createEmployee.setObjectName("createEmployee")
        self.createEmployee.clicked.connect(self.addEmployee)
        self.tabWidget.addTab(self.tab_3, "")
        self.tab_4 = QtWidgets.QWidget()
        self.tab_4.setObjectName("tab_4")
        self.shiftName = QtWidgets.QLineEdit(self.tab_4)
        self.shiftName.setGeometry(QtCore.QRect(150, 130, 531, 25))
        self.shiftName.setObjectName("shiftName")
        self.shiftStart = QtWidgets.QTimeEdit(self.tab_4)
        self.shiftStart.setGeometry(QtCore.QRect(150, 280, 118, 26))
        self.shiftStart.setObjectName("shiftStart")
        self.shiftType = QtWidgets.QComboBox(self.tab_4)
        self.shiftType.setGeometry(QtCore.QRect(150, 210, 201, 25))
        self.shiftType.setObjectName("shiftType")
        self.shiftType.addItem("")
        self.shiftType.addItem("")
        self.shiftEnd = QtWidgets.QTimeEdit(self.tab_4)
        self.shiftEnd.setGeometry(QtCore.QRect(560, 280, 118, 26))
        self.shiftEnd.setObjectName("shiftEnd")
        self.createShiftButton = QtWidgets.QPushButton(self.tab_4)
        self.createShiftButton.setGeometry(QtCore.QRect(270, 410, 221, 25))
        self.createShiftButton.setObjectName("createShiftButton")
        self.label_9 = QtWidgets.QLabel(self.tab_4)
        self.label_9.setGeometry(QtCore.QRect(40, 130, 101, 17))
        font = QtGui.QFont()
        font.setPointSize(13)
        self.label_9.setFont(font)
        self.label_9.setObjectName("label_9")
        self.label_10 = QtWidgets.QLabel(self.tab_4)
        self.label_10.setGeometry(QtCore.QRect(40, 210, 101, 17))
        font = QtGui.QFont()
        font.setPointSize(13)
        self.label_10.setFont(font)
        self.label_10.setObjectName("label_10")
        self.label_11 = QtWidgets.QLabel(self.tab_4)
        self.label_11.setGeometry(QtCore.QRect(40, 290, 101, 17))
        font = QtGui.QFont()
        font.setPointSize(13)
        self.label_11.setFont(font)
        self.label_11.setObjectName("label_11")
        self.label_12 = QtWidgets.QLabel(self.tab_4)
        self.label_12.setGeometry(QtCore.QRect(440, 290, 101, 17))
        font = QtGui.QFont()
        font.setPointSize(13)
        self.label_12.setFont(font)
        self.label_12.setObjectName("label_12")
        self.tabWidget.addTab(self.tab_4, "")
        self.tab_5 = QtWidgets.QWidget()
        self.tab_5.setObjectName("tab_5")
        self.timeLogView = QtWidgets.QListView(self.tab_5)
        self.timeLogView.setGeometry(QtCore.QRect(0, 0, 781, 511))
        self.timeLogView.setObjectName("timeLogView")
        self.tabWidget.addTab(self.tab_5, "")
        self.tab_6 = QtWidgets.QWidget()
        self.tab_6.setObjectName("tab_6")
        self.oldPassword = QtWidgets.QLineEdit(self.tab_6)
        self.oldPassword.setGeometry(QtCore.QRect(210, 90, 501, 25))
        self.oldPassword.setObjectName("oldPassword")
        self.newPassword = QtWidgets.QLineEdit(self.tab_6)
        self.newPassword.setGeometry(QtCore.QRect(210, 200, 501, 25))
        self.newPassword.setObjectName("newPassword")
        self.confirmPassword = QtWidgets.QLineEdit(self.tab_6)
        self.confirmPassword.setGeometry(QtCore.QRect(210, 300, 501, 25))
        self.confirmPassword.setObjectName("confirmPassword")
        self.label_14 = QtWidgets.QLabel(self.tab_6)
        self.label_14.setGeometry(QtCore.QRect(20, 90, 111, 17))
        font = QtGui.QFont()
        font.setPointSize(13)
        self.label_14.setFont(font)
        self.label_14.setObjectName("label_14")
        self.label_15 = QtWidgets.QLabel(self.tab_6)
        self.label_15.setGeometry(QtCore.QRect(20, 200, 111, 17))
        font = QtGui.QFont()
        font.setPointSize(13)
        self.label_15.setFont(font)
        self.label_15.setObjectName("label_15")
        self.label_16 = QtWidgets.QLabel(self.tab_6)
        self.label_16.setGeometry(QtCore.QRect(10, 300, 141, 20))
        font = QtGui.QFont()
        font.setPointSize(13)
        self.label_16.setFont(font)
        self.label_16.setObjectName("label_16")
        self.changePasswordButton = QtWidgets.QPushButton(self.tab_6)
        self.changePasswordButton.setGeometry(QtCore.QRect(330, 420, 181, 25))
        self.changePasswordButton.setObjectName("changePasswordButton")
        self.tabWidget.addTab(self.tab_6, "")
        self.logoutButton = QtWidgets.QPushButton(self.centralwidget)
        self.logoutButton.setGeometry(QtCore.QRect(700, 550, 89, 25))
        self.logoutButton.setObjectName("logoutButton")
        MainWindow.setCentralWidget(self.centralwidget)
        self.menubar = QtWidgets.QMenuBar(MainWindow)
        self.menubar.setGeometry(QtCore.QRect(0, 0, 800, 22))
        self.menubar.setObjectName("menubar")
        MainWindow.setMenuBar(self.menubar)
        self.statusbar = QtWidgets.QStatusBar(MainWindow)
        self.statusbar.setObjectName("statusbar")
        MainWindow.setStatusBar(self.statusbar)

        self.retranslateUi(MainWindow)
        self.tabWidget.setCurrentIndex(0)
        QtCore.QMetaObject.connectSlotsByName(MainWindow)
        self.getEmployees()

    def retranslateUi(self, MainWindow):
        _translate = QtCore.QCoreApplication.translate
        MainWindow.setWindowTitle(_translate("MainWindow", "MainWindow"))
        self.label_13.setText(_translate("MainWindow", "Shift"))
        self.assignShiftButton.setText(_translate("MainWindow", "Assign"))
        self.tabWidget.setTabText(self.tabWidget.indexOf(self.tab), _translate("MainWindow", "View Employees"))
        self.disableShiftButton.setText(_translate("MainWindow", "Disable"))
        self.enableShiftButton_2.setText(_translate("MainWindow", "Enable"))
        self.tabWidget.setTabText(self.tabWidget.indexOf(self.tab_2), _translate("MainWindow", "View Shifts"))
        self.currency.setCurrentText(_translate("MainWindow", "USD"))
        self.currency.setItemText(0, _translate("MainWindow", "USD"))
        self.currency.setItemText(1, _translate("MainWindow", "ZWL\\RTGS"))
        self.currency.setItemText(2, _translate("MainWindow", "RANDS"))
        self.currency.setItemText(3, _translate("MainWindow", "PULA"))
        self.label.setText(_translate("MainWindow", "First Name"))
        self.label_2.setText(_translate("MainWindow", "Last Name"))
        self.label_3.setText(_translate("MainWindow", "Date of Birth"))
        self.label_4.setText(_translate("MainWindow", "Employee Number"))
        self.label_5.setText(_translate("MainWindow", "ID Number"))
        self.label_6.setText(_translate("MainWindow", "Currency"))
        self.label_7.setText(_translate("MainWindow", "Hourly Basic"))
        self.label_8.setText(_translate("MainWindow", "Hourly Overtime"))
        self.createEmployee.setText(_translate("MainWindow", "Create Employee"))
        self.tabWidget.setTabText(self.tabWidget.indexOf(self.tab_3), _translate("MainWindow", "Create Employee"))
        self.shiftType.setItemText(0, _translate("MainWindow", "Basic"))
        self.shiftType.setItemText(1, _translate("MainWindow", "Overtime"))
        self.createShiftButton.setText(_translate("MainWindow", "Create Shift"))
        self.label_9.setText(_translate("MainWindow", "Shift Name"))
        self.label_10.setText(_translate("MainWindow", "Shift Type"))
        self.label_11.setText(_translate("MainWindow", "Start"))
        self.label_12.setText(_translate("MainWindow", "End"))
        self.tabWidget.setTabText(self.tabWidget.indexOf(self.tab_4), _translate("MainWindow", "Create Shift"))
        self.tabWidget.setTabText(self.tabWidget.indexOf(self.tab_5), _translate("MainWindow", "View Time Logs"))
        self.label_14.setText(_translate("MainWindow", "Old Password"))
        self.label_15.setText(_translate("MainWindow", "New Password"))
        self.label_16.setText(_translate("MainWindow", "Confirm Password"))
        self.changePasswordButton.setText(_translate("MainWindow", "Change Password"))
        self.tabWidget.setTabText(self.tabWidget.indexOf(self.tab_6), _translate("MainWindow", "Manage Admin"))
        self.logoutButton.setText(_translate("MainWindow", "Logout"))

    def addEmployee(self):
        employeeData = {'firstname': self.firstname.text(),
                        'lastname': self.lastname.text(),
                        'dob': self.dob.text(),
                        'employeeNumber': self.employeeNumber.text(),
                        'ID': self.idNumber.text(),
                        'currency': self.currency.currentText(),
                        'basic': self.salaryBasic.text(),
                        'overtime': self.salaryOvertime.text()
                        }

        response = self.emp.add(employeeData)
        if response:
            pic.saveImage(response)
            print('employee added')
            self.getEmployees()

        else:
            print('failed to add employee')



    def getEmployees(self):
        i = 0
        for emp in self.employees:
            self.employeeView.insertItem(i, 'Name:' + emp[1] + ' ' + emp[2] + ', DOB:' + emp[3] + ', ID No:' + emp[
                4] + ', Employee No:' + str(emp[0]) +
                                         ',Currency:' + emp[7] + ', Basic:' + str(emp[5]) + ', Overtime:' + str(emp[6]))
            i = i + 1

    def assignShift(self):
        row = self.employeeView.currentRow()
        print(self.employees[row])


if __name__ == "__main__":
    import sys

    app = QtWidgets.QApplication(sys.argv)
    MainWindow = QtWidgets.QMainWindow()
    ui = Ui_MainWindow()
    ui.setupUi(MainWindow)
    MainWindow.show()
    sys.exit(app.exec_())
